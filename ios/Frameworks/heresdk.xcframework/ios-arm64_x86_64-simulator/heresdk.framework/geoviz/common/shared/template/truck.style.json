{"styles": [{"id": "truck_attributes_lines", "layer": "tilezen_lines", "when": ["all", ["any", ["!=", ["ref", "Truck.Icon.Lookup.FileName"], null], ["ref", "Is.Restriction.Multiple"]], ["case", ["ref", "Is.TruckFeature.Restriction.Time.ActiveOnly"], ["ref", "Is.Restriction.Time.Active"], true]], "technique": "line", "description": "Truck Attributes Lines", "category": ["case", ["ref", "Is.Restriction.Time.Inactive"], "truck-inactive", "truck"], "minZoomLevel": ["ref", "Truck.MinZoomLevel"], "attr": {"cap": ["ref", "Truck.Cap"], "width": ["case", ["ref", "Is.Street.Category0"], ["world-scale", ["ref", "Truck.Category0.Width"]], ["ref", "Is.Street.Category1"], ["world-scale", ["ref", "Truck.Category1.Width"]], ["ref", "Is.Street.Category2"], ["world-scale", ["ref", "Truck.Category2.Width"]], ["ref", "Is.Street.Category3"], ["world-scale", ["ref", "Truck.Category3.Width"]], ["ref", "Is.Street.Category4"], ["world-scale", ["ref", "Truck.Category4.Width"]], ["ref", "Is.Street.Pedestrian"], ["world-scale", ["ref", "Truck.Pedestrian.Width"]], ["world-scale", ["ref", "Truck.Pedestrian.Width"]]], "color": ["case", ["ref", "Is.Restriction.Time.Inactive"], ["ref", "Truck.Color.Inactive"], ["ref", "Truck.Color"]], "dash-gap-color": ["case", ["ref", "Is.Restriction.Time.Inactive"], ["ref", "Truck.SecondLine.Color.Inactive"], ["ref", "Truck.SecondLine.Color"]], "dasharray": ["make-vector", ["world-discrete-scale", ["ref", "Truck.Gap.Length"]], ["world-discrete-scale", ["ref", "Truck.Dash.Length"]], 0, 0], "softdepth": ["ref", "SoftDepth.Threshold"]}}, {"id": "truck_attributes_outlines", "layer": "tilezen_lines", "when": ["all", ["any", ["!=", ["ref", "Truck.Icon.Lookup.FileName"], null], ["ref", "Is.Restriction.Multiple"]], ["case", ["ref", "Is.TruckFeature.Restriction.Time.ActiveOnly"], ["ref", "Is.Restriction.Time.Active"], true]], "technique": "line", "description": "Truck Attributes Outlines", "category": ["case", ["ref", "Is.Restriction.Time.Inactive"], "truck-outline-inactive", "truck-outline"], "minZoomLevel": ["ref", "Truck.MinZoomLevel"], "attr": {"cap": ["ref", "Truck.Outline.Cap"], "width": ["case", ["ref", "Is.Street.Category0"], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Category0.Outline.Width"]], ["ref", "Truck.Category0.Width"]]], ["ref", "Is.Street.Category1"], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Category1.Outline.Width"]], ["ref", "Truck.Category1.Width"]]], ["ref", "Is.Street.Category2"], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Category2.Outline.Width"]], ["ref", "Truck.Category2.Width"]]], ["ref", "Is.Street.Category3"], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Category3.Outline.Width"]], ["ref", "Truck.Category3.Width"]]], ["ref", "Is.Street.Category4"], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Category4.Outline.Width"]], ["ref", "Truck.Category4.Width"]]], ["ref", "Is.Street.Pedestrian"], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Pedestrian.Outline.Width"]], ["ref", "Truck.Pedestrian.Width"]]], ["world-scale", ["+", ["*", 2, ["ref", "Truck.Pedestrian.Outline.Width"]], ["ref", "Truck.Pedestrian.Width"]]]], "color": ["case", ["ref", "Is.Restriction.Time.Inactive"], ["ref", "Truck.Outline.Color.Inactive"], ["ref", "Truck.Outline.Color"]], "softdepth": ["ref", "SoftDepth.Threshold"]}}, {"id": "truck_attributes_labels", "layer": "tilezen_lines", "when": ["all", ["!=", ["ref", "Truck.Icon.Lookup.FileName"], null], ["case", ["ref", "Is.TruckFeature.Restriction.Time.ActiveOnly"], ["ref", "Is.Restriction.Time.Active"], true]], "technique": "icon-text", "description": "Truck Attributes Icons", "category": ["case", ["ref", "Is.Restriction.Time.Inactive"], ["concat", "truck-icon-inactive-", ["ref", "Truck.Icon.Key.IconId"]], ["concat", "truck-icon-", ["ref", "Truck.Icon.Key.IconId"]]], "attr": {"iconMinZoomLevel": ["ref", "Truck.MinZoomLevel"], "textMinZoomLevel": ["ref", "Truck.MinZoomLevel"], "anchor-point-density": 10, "margin": ["ref", "Truck.Icon.Margin"], "check-margin": ["ref", "Default.Margin"], "persisting-margin-reducing": ["ref", "Default.PersistingMargin.Reducing"], "far-threshold": 0.9, "far-threshold-range": 0.05, "text-dx": ["ppi-scale", ["+", -0.5, ["ref", "Truck.Icon.Lookup.TextOffsetX"]], ["ref", "ScalePPI.Labels"]], "text-dy": ["*", ["*", ["ref", "Truck.Label.MagnificationFactor"], ["ref", "Truck.Label.SizeFactor"]], ["ppi-scale", ["ref", "Truck.Icon.Lookup.TextOffsetY"], ["ref", "ScalePPI.Labels"]]], "text-opacity": ["case", ["ref", "Truck.Icon.WithoutText"], 0, 1], "icon-shadow-enabled": ["ref", "Truck.Icon.Shadow.Enabled"], "icon-shadow-color": ["ref", "Icon.Shadow.Color"], "icon-shadow-blur-radius": ["ref", "Icon.Shadow.BlurRadius"], "icon-shadow-size-increment": ["ref", "Icon.Shadow.SizeIncrement"], "icon-shadow-shear-factor-x": ["ref", "Icon.Shadow.ShearFactorX"], "icon-shadow-shear-factor-y": ["ref", "Icon.Shadow.ShearFactorY"], "icon-shadow-dx": ["ref", "Icon.Shadow.DistanceX"], "icon-shadow-dy": ["-", ["ref", "Icon.Shadow.DistanceY"]], "text-color": ["case", ["ref", "Is.Restriction.Time.Inactive"], ["ref", "Truck.Label.Color.Inactive"], ["ref", "Truck.Label.Color"]], "font": ["ref", "Truck.Label.Font"], "text-size": ["*", ["ref", "Truck.Label.MagnificationFactor"], ["ppi-scale", ["*", ["ref", "Truck.Label.Size"], ["ref", "Truck.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]]], "icon-composition-type": "overlaid", "icon-source": ["concat", ["ref", "Truck.Icon.Lookup.FileName"], ",", ["case", ["ref", "Is.Restriction.Time"], ["ref", "Truck.Icon.TimeAddOn.Lookup.FileName"], ""]], "text-brightness": ["ref", "Truck.Label.Brightness"], "icon-brightness": ["case", ["ref", "Is.Restriction.Time.Inactive"], ["ref", "Truck.Icon.Brightness.Inactive"], ["ref", "Truck.Icon.Brightness"]], "attribute-name": ["ref", "Truck.AttributeName"], "secondary-attribute-name": "", "text": ["ref", "Truck.Icon.CustomText"], "icon-width": ["ppi-scale", ["*", ["ref", "Truck.Icon.Size"], ["ref", "Truck.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]], "allow-cropped": ["ref", "AllowCroppedLabels"]}}, {"id": "truck_attributes_point_labels", "extends": "truck_attributes_labels", "layer": "tilezen_points", "attr": {}}]}